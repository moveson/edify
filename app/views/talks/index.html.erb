<div class="row">
  <div class="col-sm-6">
    <h1>Talks</h1>
  </div>

  <div class="col-sm-6 text-end">
    <%= link_to new_talk_path, class: 'btn btn-primary' do %>
      Add New Talk
    <% end %>
  </div>
</div>

<hr/>

<%= search_form_for @q do |f| %>
  <div class="row">
    <div class="input-group">
      <%= f.search_field :speaker_name_cont, placeholder: "Find someone", autofocus: true, class: "form-control" %>
      <span class="input-group-append">
        <%= button_tag(type: :submit, class: 'btn btn-primary') do %>
            <i class='fas fa-search'></i>
        <% end %>
      </span>
    </div>
  </div>
<% end %>

<br/>

<div class="table-responsive">
  <table class="table table-striped table-bordered table-hover">
    <thead>
    <tr>
      <th></th>
      <th>Speaker Name</th>
      <th>Date</th>
      <th>Purpose</th>
      <th>Topic</th>
    </tr>
    </thead>

    <tbody>
    <% @talks.each do |talk| %>
      <%= content_tag :tr, id: dom_id(talk), class: dom_class(talk) do %>
        <td><%= link_to(fa_icon("person"), member_path(talk.member_id)) if talk.member_id? %></td>
        <td><%= talk.speaker_name %></td>
        <td><%= l(talk.date, format: :long) %></td>
        <td><%= talk.purpose %></td>
        <td><%= talk.topic_truncated %></td>
      <% end %>
    <% end %>
    </tbody>
  </table>
</div>
